(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],[,,,,,,,function(e,t,n){},,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(1),s=n(8),r=n.n(s),u=n(3),i=n.n(u),o=n(2),l=n(5),b=(n(15),"https://mate-api.herokuapp.com/posts");function d(e,t,n){return j.apply(this,arguments)}function j(){return(j=Object(l.a)(i.a.mark((function e(t,n,c){var a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(b,c);case 2:if((a=e.sent).ok){e.next=5;break}throw new Error("".concat(a.status," - ").concat(a.statusText));case 5:return e.next=7,a.json();case 7:return s=e.sent,e.abrupt("return",s.data);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var h=n(4),m=(n(16),function(e){var t=e.body,n=e.id,s=e.handleChange,r=Object(a.useState)(t),u=Object(o.a)(r,2),i=u[0],l=u[1],d=Object(a.useState)(!1),j=Object(o.a)(d,2),h=j[0],m=j[1];return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:"ui three bottom attached buttons",children:[Object(c.jsx)("button",{className:"ui black button",type:"button",onClick:function(){return m(!h)},children:h?"Hide edit panel":"Edit announcement"}),Object(c.jsx)("button",{className:"ui red button",type:"button",onClick:function(){return function(e){return fetch("".concat(b,"/").concat(e),{method:"DELETE"})}(n).then(s)},children:"Delete"})]}),h&&Object(c.jsxs)("form",{className:"ui form success",onSubmit:function(e){e.preventDefault(),function(e,t){return fetch("".concat(b,"/").concat(t),{method:"PATCH",body:JSON.stringify({body:e}),headers:{"Content-type":"application/json; charset=UTF-8"}})}(i,n).then(s)},children:[Object(c.jsx)("div",{className:"field",children:Object(c.jsx)("textarea",{type:"text",rows:"4",value:i,onChange:function(e){return l(e.target.value)}})}),Object(c.jsx)("button",{className:"ui submit button",type:"submit",children:"Submit"})]})]})}),f=(n(7),function(e){var t=e.title,n=e.body,a=e.createdAt;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"header",children:t}),Object(c.jsx)("p",{children:n}),Object(c.jsx)("p",{children:a.substring(0,10)}),Object(c.jsx)(m,Object(h.a)({},e))]})}),p=function(e){var t=e.announcements;return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("ul",{children:t.map((function(t){return Object(c.jsx)("li",{className:"ui floating message",children:Object(c.jsx)(f,Object(h.a)(Object(h.a)({},t),{},{handleChange:e.handleChange}))},t.id)}))})})},O=(n(17),function(e,t){t(e.target.value)}),x=function(e){var t=Object(a.useState)(""),n=Object(o.a)(t,2),s=n[0],r=n[1],u=Object(a.useState)(""),i=Object(o.a)(u,2),l=i[0],d=i[1];return Object(c.jsxs)("form",{className:"ui form attached fluid message announcementForm",onSubmit:function(t){var n,c;t.preventDefault(),(n=l,c=s,fetch(b,{method:"POST",body:JSON.stringify({title:n,body:c}),headers:{"Content-type":"application/json; charset=UTF-8"}})).then(e.handleChange),r(""),d("")},children:[Object(c.jsx)("div",{className:"header aligned center",children:"Add new announcement"}),Object(c.jsxs)("label",{htmlFor:"title",children:["Title",Object(c.jsx)("input",{name:"title",className:"field",placeholder:"Enter title for announcement",value:l,onChange:function(e){return O(e,d)}})]}),Object(c.jsxs)("label",{htmlFor:"body",children:["Text",Object(c.jsx)("textarea",{name:"body",className:"field",value:s,placeholder:"Enter some description",onChange:function(e){return O(e,r)}})]}),Object(c.jsxs)("div",{className:"ui two bottom buttons",children:[Object(c.jsx)("button",{type:"submit",className:"floated ui secondary button",children:"Save"}),Object(c.jsx)("button",{className:"floated ui button",type:"button",onClick:function(){r(""),d("")},children:"Abort"})]})]})},v=(n(18),function(e){var t=Object(a.useState)(""),n=Object(o.a)(t,2),s=n[0],r=n[1];return Object(c.jsxs)("form",{className:"ui search searchAnnouncement",onSubmit:function(t){t.preventDefault(),e.handleFilter(s)},children:[Object(c.jsxs)("div",{className:"ui icon input",children:[Object(c.jsx)("input",{className:"prompt",type:"text",placeholder:"Search announcement...",value:s,onChange:function(e){return r(e.target.value)}}),Object(c.jsx)("i",{className:"search icon"})]}),Object(c.jsx)("div",{className:"results"}),Object(c.jsx)("button",{type:"submit",className:"ui secondary button searchAnnouncement__button",children:"Okay"}),Object(c.jsx)("button",{type:"button",className:"ui red button searchAnnouncement__button",onClick:function(){r(""),e.handleGet()},children:"Reset"})]})}),y=(n(19),function(e){return Object(c.jsx)("div",{className:"ui form selectAnnouncement",children:Object(c.jsx)("div",{className:"field",children:Object(c.jsxs)("select",{onChange:function(t){e.handleFilter(t.target.value)},children:[Object(c.jsx)("option",{value:"default",defaultValue:"default",children:"Choose announcement"}),e.announcements.map((function(e){return Object(c.jsx)("option",{value:e.id,children:e.title},e.id)}))]})})})}),N="posts";function g(){return C.apply(this,arguments)}function C(){return(C=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(N,{method:"GET"});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var S=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)([]),u=Object(o.a)(r,2),i=u[0],l=u[1],b=function(){g().then((function(e){return s(e)}))},d=function(e){g().then((function(t){s("default"!==e?t.filter((function(t){return t.title.includes(e)||t.title.includes(e)||t.id==e})):t)}))};return Object(a.useEffect)((function(){return g().then((function(e){return l(e),s(e)}))}),[]),Object(c.jsxs)("div",{className:"App",children:[Object(c.jsxs)("div",{className:"App__row",children:[Object(c.jsx)(y,{announcements:i,handleFilter:d}),Object(c.jsx)(v,{handleFilter:d,handleGet:b})]}),Object(c.jsxs)("div",{className:"App__body",children:[Object(c.jsx)(p,{announcements:n,handleChange:b}),Object(c.jsx)(x,{handleChange:b})]})]})};r.a.render(Object(c.jsx)(S,{}),document.getElementById("root"))}],[[20,1,2]]]);
//# sourceMappingURL=main.39fdc991.chunk.js.map