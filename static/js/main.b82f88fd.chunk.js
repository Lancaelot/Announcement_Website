(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],[,,,,,,,function(e,t,n){},,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(1),s=n(8),r=n.n(s),i=n(3),u=n.n(i),o=n(2),l=n(5),j=(n(15),"https://mate-api.herokuapp.com/posts");function b(e,t,n){return d.apply(this,arguments)}function d(){return(d=Object(l.a)(u.a.mark((function e(t,n,c){var a,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(j,c);case 2:if((a=e.sent).ok){e.next=5;break}throw new Error("".concat(a.status," - ").concat(a.statusText));case 5:return e.next=7,a.json();case 7:return s=e.sent,e.abrupt("return",s.data);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var h=n(4),m=(n(16),function(e){var t=e.body,n=e.id,s=e.handleChange,r=Object(a.useState)(t),i=Object(o.a)(r,2),u=i[0],l=i[1],b=Object(a.useState)(!1),d=Object(o.a)(b,2),h=d[0],m=d[1];return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:"ui three bottom attached buttons",children:[Object(c.jsx)("button",{className:"ui black button",type:"button",onClick:function(){return m(!h)},children:h?"Hide edit panel":"Edit announcement"}),Object(c.jsx)("button",{className:"ui red button",type:"button",onClick:function(){return function(e){return fetch("".concat(j,"/").concat(e),{method:"DELETE"})}(n).then(s)},children:"Delete"})]}),h&&Object(c.jsxs)("form",{className:"ui form success",onSubmit:function(e){e.preventDefault(),function(e,t){return fetch("".concat(j,"/").concat(t),{method:"PATCH",body:JSON.stringify({body:e}),headers:{"Content-type":"application/json; charset=UTF-8"}})}(u,n).then(s)},children:[Object(c.jsx)("div",{className:"field",children:Object(c.jsx)("textarea",{type:"text",rows:"4",value:u,onChange:function(e){return l(e.target.value)}})}),Object(c.jsx)("button",{className:"ui submit button",type:"submit",children:"Submit"})]})]})}),f=(n(7),function(e){var t=e.title,n=e.body,a=e.createdAt;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"header",children:t}),Object(c.jsx)("p",{children:n}),Object(c.jsx)("p",{children:a.substring(0,10)}),Object(c.jsx)(m,Object(h.a)({},e))]})}),O=function(e){var t=e.announcements;return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("ul",{children:t.map((function(t){return Object(c.jsx)("li",{className:"ui floating message",children:Object(c.jsx)(f,Object(h.a)(Object(h.a)({},t),{},{handleChange:e.handleChange}))},t.id)}))})})},p=(n(17),function(e,t){t(e.target.value)}),x=function(e){var t=Object(a.useState)(""),n=Object(o.a)(t,2),s=n[0],r=n[1],i=Object(a.useState)(""),u=Object(o.a)(i,2),l=u[0],b=u[1];return Object(c.jsxs)("form",{className:"ui form attached fluid message announcementForm",onSubmit:function(t){var n,c;t.preventDefault(),(n=l,c=s,fetch(j,{method:"POST",body:JSON.stringify({title:n,body:c}),headers:{"Content-type":"application/json; charset=UTF-8"}})).then(e.handleChange),r(""),b("")},children:[Object(c.jsx)("div",{className:"header aligned center",children:"Add new announcement"}),Object(c.jsxs)("label",{htmlFor:"title",children:["Title",Object(c.jsx)("input",{name:"title",className:"field",placeholder:"Enter title for announcement",value:l,onChange:function(e){return p(e,b)}})]}),Object(c.jsxs)("label",{htmlFor:"body",children:["Text",Object(c.jsx)("textarea",{name:"body",className:"field",value:s,placeholder:"Enter some description",onChange:function(e){return p(e,r)}})]}),Object(c.jsxs)("div",{className:"ui two bottom buttons",children:[Object(c.jsx)("button",{type:"submit",className:"floated ui secondary button",children:"Save"}),Object(c.jsx)("button",{className:"floated ui button",type:"button",onClick:function(){r(""),b("")},children:"Abort"})]})]})},v=(n(18),function(e){var t=Object(a.useState)(""),n=Object(o.a)(t,2),s=n[0],r=n[1];return Object(c.jsxs)("form",{className:"ui search searchAnnouncement",onSubmit:function(t){t.preventDefault(),e.handleFilter(s)},children:[Object(c.jsxs)("div",{className:"ui icon input",children:[Object(c.jsx)("input",{className:"prompt",type:"text",placeholder:"Search announcement...",value:s,onChange:function(e){return r(e.target.value)}}),Object(c.jsx)("i",{className:"search icon"})]}),Object(c.jsx)("div",{className:"results"}),Object(c.jsx)("button",{type:"submit",className:"ui secondary button searchAnnouncement__button",children:"Okay"}),Object(c.jsx)("button",{type:"button",className:"ui red button searchAnnouncement__button",onClick:function(){r(""),e.handleGet()},children:"Reset"})]})}),N=(n(19),function(e){return Object(c.jsx)("div",{className:"ui form selectAnnouncement",children:Object(c.jsx)("div",{className:"field",children:Object(c.jsxs)("select",{onChange:function(t){e.handleFilter(t.target.value)},children:[Object(c.jsx)("option",{value:"default",defaultValue:"default",children:"Choose announcement"}),e.announcements.map((function(e){return Object(c.jsx)("option",{value:e.id,children:e.title},e.id)}))]})})})}),y=(n(20),function(){return Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)("div",{className:"circle circle-1"}),Object(c.jsx)("div",{className:"circle circle-2"}),Object(c.jsx)("div",{className:"circle circle-3"}),Object(c.jsx)("div",{className:"circle circle-4"}),Object(c.jsx)("div",{className:"circle circle-5"})]})}),g="posts";function C(){return S.apply(this,arguments)}function S(){return(S=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(g,{method:"GET"});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var k=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)([]),i=Object(o.a)(r,2),u=i[0],l=i[1],j=function(){C().then((function(e){return s(e)}))},b=function(e){C().then((function(t){s("default"!==e?t.filter((function(t){return t.title.includes(e)||t.title.includes(e)||t.id==e})):t)}))};return Object(a.useEffect)((function(){return C().then((function(e){return l(e),s(e)}))}),[]),Object(c.jsxs)("div",{className:"App",children:[Object(c.jsxs)("div",{className:"App__row",children:[Object(c.jsx)(N,{announcements:u,handleFilter:b}),Object(c.jsx)(v,{handleFilter:b,handleGet:j})]}),Object(c.jsxs)("div",{className:"App__body",children:[n.length>=1?Object(c.jsx)(O,{announcements:n,handleChange:j}):Object(c.jsx)(y,{}),Object(c.jsx)(x,{handleChange:j})]})]})};r.a.render(Object(c.jsx)(k,{}),document.getElementById("root"))}],[[21,1,2]]]);
//# sourceMappingURL=main.b82f88fd.chunk.js.map